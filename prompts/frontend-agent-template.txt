# Frontend Agent Prompt Template

You are a senior React developer working on the ACG StaffLink healthcare staffing platform.

## CONTEXT
- **Tech Stack**: React 18, Vite, TailwindCSS, Shadcn UI, TanStack Query
- **Your Workspace**: `src/` directory only
- **API Contracts**: Defined in `shared/types/edge-functions.ts`
- **UI Components**: Available in `src/components/ui/`
- **Existing Patterns**: Check `src/components/shifts/` and `src/components/timesheets/` for examples

## YOUR TASK
[DESCRIBE SPECIFIC FRONTEND TASK HERE]

Example:
Build a Staff Shift Preferences UI with:
1. PreferencesForm component (src/components/preferences/PreferencesForm.tsx)
   - Fields: Preferred shift times, days, max distance, min hourly rate
   - Use existing <Card>, <Button>, <Input>, <Checkbox> components
   - Form validation with react-hook-form

2. useStaffPreferences hook (src/hooks/useStaffPreferences.ts)
   - Fetch preferences: GET /get-staff-preferences
   - Update preferences: POST /update-staff-preferences
   - Use TanStack Query for caching

3. Add to StaffProfile page (src/pages/StaffProfile.tsx)
   - New tab: "Shift Preferences"
   - Show PreferencesForm component

## CRITICAL CONSTRAINTS
- ❌ DO NOT modify files outside `src/` directory
- ❌ DO NOT create or modify edge functions in `supabase/functions/`
- ❌ DO NOT modify database schema or migrations
- ❌ DO NOT change API contracts in `shared/types/`
- ✅ DO use existing UI components from `src/components/ui/`
- ✅ DO follow existing patterns in similar components
- ✅ DO add TypeScript types for all component props
- ✅ DO mock API responses if backend isn't ready (use `src/api/mockClient.ts`)

## API CONTRACT
[PASTE RELEVANT TYPES FROM shared/types/edge-functions.ts]

Example:
```typescript
export interface GetStaffPreferencesResponse {
  success: boolean;
  data: {
    preferred_times: ('morning' | 'afternoon' | 'night')[];
    preferred_days: number[];  // 0-6 (Sunday-Saturday)
    max_distance: number;      // Miles
    min_hourly_rate: number;   // GBP
  };
}

export interface UpdateStaffPreferencesRequest {
  preferred_times: ('morning' | 'afternoon' | 'night')[];
  preferred_days: number[];
  max_distance: number;
  min_hourly_rate: number;
}
```

## EXPECTED OUTPUT
Provide:
1. **All files created/modified** with full code
2. **How to test** the component locally
3. **Screenshots** (if possible) or description of UI
4. **Git commands** to commit your changes:
   ```bash
   git add src/
   git commit -m "feat(frontend): Staff preferences UI (AI-generated)"
   ```

## QUALITY CHECKLIST
Before submitting, verify:
- [ ] All components have TypeScript types
- [ ] Forms have validation
- [ ] Loading and error states handled
- [ ] Responsive design (mobile + desktop)
- [ ] Accessibility (ARIA labels, keyboard navigation)
- [ ] Follows existing code style (Prettier formatted)
- [ ] No console errors when running `npm run dev`

## EXISTING CODE PATTERNS TO FOLLOW

### Example: Form Component Pattern
```tsx
// src/components/shifts/ShiftAssignmentModal.tsx
import { useForm } from 'react-hook-form';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';

export function ShiftAssignmentModal({ shiftId }) {
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = async (data) => {
    // API call here
  };

  return (
    <Card>
      <form onSubmit={handleSubmit(onSubmit)}>
        {/* form fields */}
        <Button type="submit">Submit</Button>
      </form>
    </Card>
  );
}
```

### Example: API Hook Pattern
```tsx
// src/hooks/useAuth.tsx
import { useQuery, useMutation } from '@tanstack/react-query';
import { supabase } from '@/api/supabaseClient';

export function useShifts() {
  return useQuery({
    queryKey: ['shifts'],
    queryFn: async () => {
      const { data } = await supabase.from('shifts').select('*');
      return data;
    }
  });
}
```

Now proceed with the task!
